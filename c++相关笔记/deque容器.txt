deque



1、deque的实现：



动态二维数组：

二级指针先给第一维分配空间，也就是分配n个一级指针的空间，然后再给里面的每个一级指针分配空间，这样就形成了一个动态二维数组



deque只给第一维分配空间，然后找到正中的位置pos（保证向前向后都有足够大的空间），然后给该位置分配空间。



当这个空间向后用完的时候，pos加一，然后给新的pos申请空间，使用新的pos继续存储。向前类似。

※向前存储会从后向前存储



2、deque的迭代器



迭代器有四个成员变量：

我在我家的哪――当前迭代器的位置

我家从哪开始――当前迭代器所在一维数组的起始位置

我家从哪结束――当前迭代器所在一维数组的终止位置

我家在哪――当前迭代器所在一维数组的地址



3、deque的扩容



当map的空间向前或向后填满的时候，如果还需要存储新的数据，就要扩容。扩容只针对map，对已有的一维数组不产生任何影响。map扩容后，会把原来的指针数据居中放入新申请的空间，完成扩容。
